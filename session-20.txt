Crontab
-------
crontabguru

What is crontab?

crontab is used to schedule jobs (commands/scripts) to run automatically at fixed times, dates, or intervals in Linux/Unix.

Think of it as:

â° Linux task scheduler

Crontab syntax (most important)
* * * * * command-to-run
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ Day of week (0â€“7) (Sunday = 0 or 7)
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€ Month (1â€“12)
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€ Day of month (1â€“31)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€ Hour (0â€“23)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Minute (0â€“59)

Basic examples (very common)
Run every minute
* * * * * echo "Hello" >> /tmp/cron.log

Run every day at 2:30 AM
30 2 * * * /home/user/backup.sh

Run every Sunday at 5 AM
0 5 * * 0 /home/user/weekly_cleanup.sh

Run on 1st of every month at midnight
0 0 1 * * /home/user/monthly_report.sh

Special characters in crontab
* â†’ every
0 * * * *   # every hour

*/n â†’ every n interval
*/5 * * * *   # every 5 minutes

0 */2 * * *   # every 2 hours

, â†’ multiple values
0 9,18 * * *   # 9 AM and 6 PM

- â†’ range
0 9-17 * * 1-5   # every hour from 9â€“5, Monâ€“Fri

Editing and managing crontab
Edit crontab
crontab -e

View crontab
crontab -l

Remove crontab
crontab -r

ðŸ”¥ Very important DevOps rules (interview gold)
1ï¸âƒ£ Always use full paths

âŒ Wrong

backup.sh


âœ… Correct

/usr/bin/bash /home/user/backup.sh

2ï¸âƒ£ Redirect output (cron doesnâ€™t show logs)
0 2 * * * /home/user/backup.sh >> /var/log/backup.log 2>&1



========
Crontab
========
scheduler in linux server, we can schedule the scripts to run periodically

cp source_dir dest_dir
backup source_dir dest_dir 20

1. user should pass source_dir dest_dir, default is 14 days, but user can override
2. verify the directories exist and root user too
3. find the files
4. archieve them and place into dest_dir
5. check archieve is success or not
6. if success you can delete from source_dir

udvxeilgkoufsbbt

defaults
auth           on
tls            on
tls_trust_file /etc/ssl/certs/ca-bundle.crt
logfile        /var/log/msmtp.log

account        gmail
host           smtp.gmail.com
port           587
from           naveenkumarvelanati@gmail.com
user           naveenkumarvelanati@gmail.com
password       *************

account default : gmail

{
echo "To: info@joindevops.com"
echo "Subject: Shell script test"
echo "Content-Type: text/html"
echo ""
echo "test from shell"
} | msmtp "info@joindevops.com"

disk utilsation, trigger email if du is more than 70